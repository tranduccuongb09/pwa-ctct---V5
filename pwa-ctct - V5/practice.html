<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ôn trắc nghiệm – CTĐ, CTCT</title>

  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="nav.css?v=20250918">
  <link rel="stylesheet" href="style.css?v=20250918">

  <style>
    :root{ --bg:#f5f6f8; --card:#fff; --text:#111827; --border:#e5e7eb; --brand:#A41919 }
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{max-width:1120px;margin:20px auto;padding:0 12px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:18px}
    .field label{display:block;font-size:14px;color:#6b7280;margin-bottom:6px}
    .select{width:100%;height:42px;padding:10px 12px;font-size:16px;border:1px solid var(--border);border-radius:10px;background:#fff}
    .btn{padding:12px 22px;border-radius:12px;border:none;font-size:16px;font-weight:800;cursor:pointer}
    .btn-primary{background:var(--brand);color:#fff}
    .btn-primary:hover{filter:brightness(0.92)}
    #quizBox[hidden]{display:none!important}
    .progress{height:10px;background:#eee;border-radius:8px;overflow:hidden;margin:10px 0 16px}
    #progressFill{height:100%;width:0;background:var(--brand);transition:width .25s ease}
    .option{display:flex;align-items:center;gap:12px;background:#fff;border:1px solid var(--border);border-radius:14px;padding:14px 16px;margin-bottom:12px;cursor:pointer}
    .option:hover{background:#f9f9f9;border-color:#c7c7c7}
    .option input{width:20px;height:20px;accent-color:var(--brand)}
    .option:has(input:checked){border-color:var(--brand);box-shadow:0 0 0 2px rgba(164,25,25,.08)}
    .muted{color:#6b7280}
  </style>

  <script>
    if ('serviceWorker' in navigator) {
      addEventListener('load', () => navigator.serviceWorker.register('./sw.js').catch(()=>{}));
    }
  </script>
</head>
<body class="page-quiz">
  <!-- NAV -->
  <header class="nav">
    <div class="nav__inner">
      <a class="brand" href="index.html">BAN CHỈ HUY PTKV3</a>
      <nav class="nav__links">
        <a href="index.html">Trang chủ</a>
        <a href="materials.html">Tài liệu học tập</a>
        <a href="exam.html">Làm bài kiểm tra</a>
        <a href="practice.html" class="is-active">Ôn trắc nghiệm</a>
      </nav>
      <form id="globalSearch" class="nav__search" role="search" aria-label="Tìm kiếm">
        <input class="search__input" type="search" name="q" placeholder="Tìm tài liệu, câu hỏi, chủ đề…" autocomplete="off">
        <button class="search__btn" type="submit">Tìm kiếm</button>
      </form>
      <div class="nav__actions" hidden></div>
    </div>
  </header>

  <main class="wrap">
    <!-- Chọn đối tượng -->
    <section class="card">
      <div class="field">
        <label>Đối tượng ôn</label>
        <select id="practiceTopic" class="select">
          <option value="DQTV">Nhận thức chung của DQTV</option>
          <option value="LLTT">Nhận thức chung của LLTT</option>
        </select>
      </div>
      <p class="muted">Chế độ <b>ÔN TRẮC NGHIỆM</b> — tự lấy bộ câu hỏi theo Đối tượng, mặc định <b>50 câu</b>, <b>không</b> giới hạn thời gian.</p>
      <button id="startBtn" class="btn btn-primary" type="button">BẮT ĐẦU</button>
    </section>

    <!-- Vòng làm bài -->
    <section id="quizBox" class="card" hidden>
      <h3 id="qTitle" style="margin:0 0 8px">Câu 1</h3>
      <p id="qText" style="margin:0 0 12px"></p>
      <div class="progress"><div id="progressFill"></div></div>
      <form id="options"></form>
      <div style="display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap;margin-top:14px">
        <button type="button" id="prevBtn" class="btn">← Trước</button>
        <button type="button" id="reviewBtn" class="btn">Xem lại</button>
        <span style="flex:1"></span>
        <button type="button" id="nextBtn" class="btn">Tiếp →</button>
        <button type="button" id="submitBtn" class="btn btn-primary">Kết thúc</button>
      </div>
    </section>

    <!-- Kết quả -->
    <section id="resultCard" class="card" hidden>
      <h3>KẾT QUẢ ÔN TẬP</h3>
      <p id="resultText"></p>
      <div id="explainBox"></div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <a class="btn" href="practice.html">Ôn lại</a>
        <a class="btn" href="index.html">Về trang chủ</a>
        <a class="btn" href="review.practice.html">Xem lại & giải thích</a>
      </div>
    </section>
  </main>

<script src="config.js?v=20250918" defer></script>
<script>window.CTCT_USE_TRY_API = true;</script>
<script src="net.js?v=20250918" defer></script>
<script src="analytics.js?v=20250918" defer></script>
<script src="navbar.js?v=20250918" defer></script>
<script src="app.try.js?v=20250928" defer></script>
</body>
</html>
