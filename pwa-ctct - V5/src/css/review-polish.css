:root{
  --brand:#A41919; --brand-600:#8B1616;
  --bg:#f6f7fb; --card:#fff; --text:#111827; --muted:#6b7280; --ring:#e5e7eb;
  --ok:#16a34a; --bad:#dc2626; --skip:#ca8a04;
  --radius:14px; --shadow:0 2px 10px rgba(0,0,0,.06);
}

*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; gap:12px;
  background:var(--brand); color:#fff; padding:12px 16px;
}
.topbar a{ color:#fff; text-decoration:none; font-weight:800 }
.topbar a:hover{ text-decoration:underline }

.wrap{ max-width:1100px; margin:16px auto; padding:0 12px }

/* Toolbar */
.toolbar{
  background:var(--card); border:1px solid var(--ring);
  border-radius:var(--radius); box-shadow:var(--shadow);
  padding:12px; display:flex; gap:10px; align-items:center; flex-wrap:wrap;
}
.chk{ display:inline-flex; align-items:center; gap:8px; font-weight:700 }
.field{ display:inline-flex; align-items:center; gap:8px; background:#fff;
  border:1px solid var(--ring); border-radius:15px; padding:8px 10px; min-width:200px }
.field input{ border:none; outline:none; width:100%; font:inherit; }
.btn{ height:38px; padding:0 12px; border-radius:12px; border:1px solid var(--ring);
  background:#fff; font-weight:800; cursor:pointer }
.btn:hover{ filter:brightness(.98) }

/* Stats bar */
.stats{
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  background:#fff; border:1px solid var(--ring); border-radius:12px;
  padding:10px 12px; margin-top:10px; box-shadow:var(--shadow);
}
.chip{
  display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
  border-radius:999px; background:#f3f4f6; font-weight:800; border:1px solid var(--ring)
}
.chip.ok{ color:var(--ok); border-color:rgba(22,163,74,.35); background:#ecfdf5 }
.chip.bad{ color:var(--bad); border-color:rgba(220,38,38,.35); background:#fef2f2 }
.chip.skip{ color:var(--skip); border-color:rgba(202,138,4,.35); background:#fffbeb }
.chip.meta{ color:#374151; background:#fff }
.stats__right{ margin-left:auto; color:var(--muted); font-weight:700 }

/* QA card */
.qa{
  background:#fff; border:1px solid var(--ring); border-radius:12px;
  box-shadow:var(--shadow); padding:14px; margin:12px 0;
}
.qa .qindex{ font-weight:900; margin-right:6px }
.qa .qtext{ margin:.25rem 0 .5rem; line-height:1.65 }
.qa .result{ font-weight:700; margin:0 0 .6rem; }
.qa.ok .result{ color:var(--ok) }
.qa.ng .result{ color:var(--bad) }
.qa.skip .result{ color:var(--skip) }

/* Explanation block */
.exp{
  background:#f8fafc; border:1px dashed var(--ring); border-radius:10px;
  padding:10px 12px; color:#374151
}
.hl{ background: #fff59d; padding:0 .12em; }

/* Pulse when jump */
.qa.pulse{ animation:pulse .7s linear 1 }
@keyframes pulse{
  0%{ box-shadow:0 0 0 0 rgba(164,25,25,.45) }
  100%{ box-shadow:0 0 0 14px rgba(164,25,25,0) }
}

/* Print */
@media print{
  .topbar, .toolbar, .btn, .stats__right{ display:none !important }
  .wrap{ max-width:100%; margin:0; padding:0 }
  .qa{ break-inside:avoid-page }
}

@media (max-width: 600px){
  .toolbar{ flex-direction: column; align-items: stretch; gap: 8px; }
  .field{ min-width: 100%; }
}